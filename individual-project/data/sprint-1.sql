CREATE TABLE Users (
    Id BIGINT IDENTITY (1, 1) PRIMARY KEY,
    Username NVARCHAR (64) NULL,
    FirstName NVARCHAR (64) NULL,
    LastName NVARCHAR (64) NULL,
    EmailVerified BIT NOT NULL DEFAULT 0,
    ProfilePicture NVARCHAR (2048) NULL,
    Email NVARCHAR (320) NOT NULL UNIQUE,
    Xp INT NOT NULL DEFAULT 0,
    CreatedAt DATETIME2 NOT NULL DEFAULT SYSUTCDATETIME (),
    UpdatedAt DATETIME2 NOT NULL DEFAULT SYSUTCDATETIME ()
);

CREATE TABLE Otp (
    Id BIGINT IDENTITY (1, 1) PRIMARY KEY,
    UserId BIGINT NOT NULL FOREIGN KEY REFERENCES Users (Id) ON DELETE CASCADE,
    Code NVARCHAR (6) NOT NULL,
    ExpiresAt DATETIME2 NOT NULL,
    CreatedAt DATETIME2 NOT NULL DEFAULT SYSUTCDATETIME ()
)